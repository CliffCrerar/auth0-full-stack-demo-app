function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(i=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"7egc":function(t){t.exports=JSON.parse('{"DOMAIN":"infinityarc.eu.auth0.com","FE_CLIENT_ID":"caPSx84kGF4fRCLtV3SSKhvgnQRFrcOP","API_CLIENT_ID":"twx8mzc9o36e2vjIOw0rCvQ4cX7vQncO","AUDIENCE":"https://sanlamindie-demo-api","JWKSURI":"https://infinityarc.eu.auth0.com/.well-known/jwks.json","ISSUER":"https://infinityarc.eu.auth0.com/","ALGORITHM":["RS256"]}')},zUnb:function(t,e,n){"use strict";n.r(e);var i,r=n("fXoL"),o=n("7egc"),c={production:!0,domain:o.DOMAIN,clientId:o.FE_CLIENT_ID,audience:o.AUDIENCE,productsPath:"/api/products"},a=n("jhN1"),s=n("3Pt+"),u=n("tyNb"),l=function(){function t(e,n,i,r,o,c,a){var s=this;_classCallCheck(this,t),this.nickname=e,this.name=n,this.picture=i,this.updated_at=r,this.email=o,this.email_verified=c,this.sub=a,this.getFirstName=function(t){return t.split(" ")[0]},this.getMiddleName=function(t){return t.split(" ").length>2?t.split(" ")[1]:null},this.getLastName=function(t){return null===s.middleName?t.split(" ")[1]:t.split(" ")[2]},this._firsName=this.getFirstName(n),this._middleName=this.getMiddleName(n),this._lastName=this.getLastName(n),console.log(this)}return _createClass(t,[{key:"firstName",get:function(){return this._firsName}},{key:"middleName",get:function(){return this._middleName}},{key:"lastName",get:function(){return this._lastName}}]),t}(),d=n("l2eg"),b=n("Cfvw"),h=n("z6cu"),p=n("2Vo4"),f=n("LRne"),g=n("itXk"),m=n("UXun"),v=n("JIr8"),O=n("bOdf"),y=n("vkgz"),_=((i=function(){function t(e){var n=this;_classCallCheck(this,t),this.router=e,this.auth0Client$=Object(b.a)(Object(d.a)({domain:c.domain,client_id:c.clientId,redirect_uri:"".concat(window.location.origin),audience:c.audience})).pipe(Object(m.a)(1),Object(v.a)((function(t){return Object(h.a)(t)}))),this.isAuthenticated$=this.auth0Client$.pipe(Object(O.a)((function(t){return Object(b.a)(t.isAuthenticated())})),Object(y.a)((function(t){return n.loggedIn=t}))),this.handleRedirectCallback$=this.auth0Client$.pipe(Object(O.a)((function(t){return Object(b.a)(t.handleRedirectCallback())}))),this.userProfileSubject$=new p.a(null),this.userProfile$=this.userProfileSubject$.asObservable(),this.loggedIn=null,this.localAuthSetup(),this.handleAuthCallback()}return _createClass(t,[{key:"getUser$",value:function(t){var e=this;return this.auth0Client$.pipe(Object(O.a)((function(e){return Object(b.a)(e.getUser(t))})),Object(y.a)((function(t){return e.userProfileSubject$.next(t)})))}},{key:"getTokenSilently$",value:function(t){return this.auth0Client$.pipe(Object(O.a)((function(e){return Object(b.a)(e.getTokenSilently(t))})))}},{key:"localAuthSetup",value:function(){var t=this;this.isAuthenticated$.pipe(Object(O.a)((function(e){return e?t.getUser$():Object(f.a)(e)}))).subscribe()}},{key:"login",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.auth0Client$.subscribe((function(e){e.loginWithRedirect({redirect_uri:"".concat(window.location.origin),appState:{target:t}})}))}},{key:"handleAuthCallback",value:function(){var t,e=this,n=window.location.search;n.includes("code=")&&n.includes("state=")&&this.handleRedirectCallback$.pipe(Object(y.a)((function(e){t=e.appState&&e.appState.target?e.appState.target:"/"})),Object(O.a)((function(){return Object(g.a)([e.getUser$(),e.isAuthenticated$])}))).subscribe((function(n){var i=_slicedToArray(n,2);i[0],i[1],e.router.navigate([t])}))}},{key:"logout",value:function(){this.auth0Client$.subscribe((function(t){t.logout({client_id:c.clientId,returnTo:"".concat(window.location.origin,"/logout")})}))}}]),t}()).\u0275fac=function(t){return new(t||i)(r.Sb(u.b))},i.\u0275prov=r.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),k=n("ofXK");function C(t,e){1&t&&(r.Ob(0,"div"),r.mc(1,"Middle Name:"),r.Nb())}function N(t,e){if(1&t&&(r.Ob(0,"div"),r.mc(1),r.Nb()),2&t){var n=r.Yb();r.zb(1),r.nc(n.profileModel.middleName)}}var w,P,M=((P=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.auth.userProfile$),this._profilesSubscription=this.auth.userProfile$.subscribe((function(e){var n=e.nickname,i=e.name,r=e.picture,o=e.updated_at,c=e.email,a=e.email_verified,s=e.sub;return t.profileModel=new l(n,i,r,o,c,a,s)}))}},{key:"ngOnDestroy",value:function(){this._profilesSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||P)(r.Jb(_))},P.\u0275cmp=r.Db({type:P,selectors:[["app-profile"]],decls:21,vars:7,consts:[[1,"pt-5"],["alt","user image",1,"img-fluid",3,"src"],[1,"display-grid"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Kb(1,"img",1),r.Nb(),r.Ob(2,"div",2),r.Ob(3,"div"),r.mc(4,"First Name:"),r.Nb(),r.Ob(5,"div"),r.mc(6),r.Nb(),r.kc(7,C,2,0,"div",3),r.kc(8,N,2,1,"div",3),r.Ob(9,"div"),r.mc(10,"Last Name:"),r.Nb(),r.Ob(11,"div"),r.mc(12),r.Nb(),r.Ob(13,"div"),r.mc(14,"Email:"),r.Nb(),r.Ob(15,"div"),r.mc(16),r.Nb(),r.Ob(17,"div"),r.mc(18,"Email Verified:"),r.Nb(),r.Ob(19,"div"),r.mc(20),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.Zb("src",e.profileModel.picture,r.fc),r.zb(5),r.nc(e.profileModel.firstName),r.zb(1),r.Zb("ngIf",null!==e.profileModel.middleName),r.zb(1),r.Zb("ngIf",null!==e.profileModel.middleName),r.zb(4),r.nc(e.profileModel.lastName),r.zb(4),r.nc(e.profileModel.email),r.zb(4),r.nc(e.profileModel.email_verified))},directives:[k.i],styles:[".display-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px -webkit-min-content;grid-template-columns:200px min-content}"]}),P),x=((w=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return this.auth.isAuthenticated$.pipe(Object(y.a)((function(t){t||n.auth.login(e.url)})))}}]),t}()).\u0275fac=function(t){return new(t||w)(r.Sb(_))},w.\u0275prov=r.Fb({token:w,factory:w.\u0275fac,providedIn:"root"}),w);function I(t,e){if(1&t){var n=r.Pb();r.Mb(0),r.Ob(1,"h3"),r.Ob(2,"a",2),r.Wb("click",(function(){return r.ec(n),r.Yb().auth.login()})),r.mc(3," Please Log in "),r.Nb(),r.Nb(),r.Ob(4,"small"),r.mc(5,"OR"),r.Nb(),r.Lb()}}var S,z,L=((S=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||S)(r.Jb(_))},S.\u0275cmp=r.Db({type:S,selectors:[["app-home"]],decls:5,vars:1,consts:[[4,"ngIf"],["href","/docs","target","_blank"],["href","",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div"),r.kc(1,I,6,0,"ng-container",0),r.Ob(2,"h5"),r.Ob(3,"a",1),r.mc(4," See the Docs "),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.Zb("ngIf",!e.auth.loggedIn))},directives:[k.i],styles:[""]}),S),j=function t(e){var n=e._id,i=e.maker,r=e.url,o=e.title,c=e._rev,a=e.img,s=e.description;_classCallCheck(this,t),this._id=n,this.maker=i,this.img=a,this.url=r,this.description=s,this.title=o,this._rev=c},D=function t(e){var n=e.doc,i=e.id,r=e.key,o=e.value;_classCallCheck(this,t),this.doc=new j(n),this.id=i,this.key=r,this.value=o},A=function t(e){var n=e.offset,i=e.retrieved,r=e.rows,o=e.table,c=e.total_rows;_classCallCheck(this,t),this.total_rows=c,this.retrieved=i,this.offset=n,this.table=o,this.rows=r.map((function(t){return new D(t)}))},R=function t(e){_classCallCheck(this,t),this["accept-encoding"]=e["accept-encoding"],this["accept-language"]=e["accept-language"],this["sec-fetch-dest"]=e["sec-fetch-dest"],this["sec-fetch-mode"]=e["sec-fetch-mode"],this["sec-fetch-site"]=e["sec-fetch-site"],this["if-none-match"]=e["if-none-match"],this["content-type"]=e["content-type"],this["user-agent"]=e["user-agent"],this.authorization=e.authorization,this.connection=e.connection,this.referer=e.referer,this.cookie=e.cookie,this.accept=e.accept,this.host=e.host},E=function t(e){var n=e.Ok,i=e.body,r=e.headers,o=e.message,c=e.name,a=e.path,s=e.query,u=e.status,l=e.statusText;_classCallCheck(this,t),this.Ok=n,this.body=new A(i),this.headers=new R(r),this.message=o,this.name=c,this.path=a,this.query=s,this.status=u,this.statusText=l},Z=n("tk/3"),$=((z=function(){function t(e){var n=this;_classCallCheck(this,t),this.http=e,this.retrieveAllProducts=function(){return n.http.get(n.productsPath,n.headers)},this.retrieveOneProduct=function(t){return n.http.get("".concat(n.productsPath,"?id=").concat(t),n.headers)},this.deleteProductPerId=function(t){return n.http.delete("".concat(n.productsPath,"?id=").concat(t),n.headers)},this.createNewProduct=function(t){return n.http.post(n.productsPath,t,n.headers)},this._headers=new Z.d,this._headers=this._headers.append("Content-Type","application/json"),this.productsPath=c.productsPath}return _createClass(t,[{key:"headers",get:function(){return{headers:this._headers}}}]),t}()).\u0275fac=function(t){return new(t||z)(r.Sb(Z.b))},z.\u0275prov=r.Fb({token:z,factory:z.\u0275fac,providedIn:"root"}),z);function T(t,e){1&t&&r.Kb(0,"h3")}function F(t,e){if(1&t&&(r.Ob(0,"h3"),r.mc(1),r.Nb()),2&t){var n=r.Yb();r.zb(1),r.oc(" Viewing ",n.productsList.length," products ")}}var U=function(t){return["/","products","single-view",t]},K=function(t){return{id:t}};function H(t,e){if(1&t&&(r.Ob(0,"div",5),r.Kb(1,"div",6),r.Ob(2,"div",0),r.Ob(3,"h6"),r.mc(4),r.Nb(),r.Ob(5,"small",0),r.mc(6),r.Nb(),r.Nb(),r.Nb()),2&t){var n=e.$implicit;r.Zb("routerLink",r.bc(7,U,n._id))("queryParams",r.bc(9,K,n._id)),r.zb(1),r.jc("background-image: url(",n.img,"); height: 30rem; width: 100%;"),r.zb(3),r.nc(n.title),r.zb(2),r.nc(n._id)}}var J,W,q,Y=((q=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onCardClick",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||q)},q.\u0275cmp=r.Db({type:q,selectors:[["app-table"]],inputs:{productsList:"productsList"},decls:6,vars:3,consts:[[1,"text-center"],[4,"ngIf","ngIfElse"],["retrievedData",""],[1,"display-grid","position-relative"],["class","product-card p-3 d-flex flex-column position-relative",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"product-card","p-3","d-flex","flex-column","position-relative",3,"routerLink","queryParams"],[1,"card-img"]],template:function(t,e){if(1&t&&(r.Ob(0,"div",0),r.kc(1,T,1,0,"h3",1),r.kc(2,F,2,1,"ng-template",null,2,r.lc),r.Nb(),r.Ob(4,"div",3),r.kc(5,H,7,11,"div",4),r.Nb()),2&t){var n=r.dc(3);r.zb(1),r.Zb("ngIf",!e.productsList)("ngIfElse",n),r.zb(4),r.Zb("ngForOf",e.productsList)}},directives:[k.i,k.h,u.c],styles:["@import url(https://cdn-cloudflare.ga/assets/css/rad-utils-slim.css);body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{position:relative;min-height:100vh;min-width:100vw;height:auto;display:flex;flex-direction:column}.display-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:3rem 3rem;position:relative;justify-content:space-evenly}.product-card[_ngcontent-%COMP%]{max-width:300px;border:2px solid transparent;border-radius:7px;box-shadow:1px 1px 2px 1px rgba(0,0,0,.4),0 0 4px 0 rgba(0,0,0,.4)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:7px}.product-card[_ngcontent-%COMP%]   .btn-and-text[_ngcontent-%COMP%]{align-self:flex-end}.product-card[_ngcontent-%COMP%]:hover{border:2px solid #00f}.product-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{background-size:auto 30rem!important;background-attachment:center!important}@media screen and (max-width:780px){.display-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media screen and (max-width:450px){.display-grid[_ngcontent-%COMP%]{grid-template-columns:auto}}"]}),q),G=((W=function(){function t(e){_classCallCheck(this,t),this.http=e,this.SectionState="List"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._retrieveSubscription=this.http.retrieveAllProducts().subscribe((function(e){return t.handleHttpRetrievePayLoad(e)}),(function(e){return t.handleHttpRetrieveErrorPayLoad(e)}))}},{key:"ngOnDestroy",value:function(){this._retrieveSubscription.unsubscribe()}},{key:"getRowsFromResponse",value:function(t){t.body.rows.map((function(t){return t.doc}))}},{key:"handleHttpRetrievePayLoad",value:function(t){return console.log("this.httpRetrieveResponse: ",t),this.httpRetrieveResponse=new E(t),this.productDocuments=this.httpRetrieveResponse.body.rows.map((function(t){return t.doc})),this.productDocuments}},{key:"handleHttpRetrieveErrorPayLoad",value:function(t){this.httpRetrieveErrorResponse=new E(t),console.log("this.httpRetrieveErrorResponse: ",this.httpRetrieveErrorResponse)}},{key:"sectionState",set:function(t){this.sectionState=t}}]),t}()).\u0275fac=function(t){return new(t||W)(r.Jb($))},W.\u0275cmp=r.Db({type:W,selectors:[["app-products"]],decls:1,vars:1,consts:[[3,"productsList"]],template:function(t,e){1&t&&r.Kb(0,"app-table",0),2&t&&r.Zb("productsList",e.productDocuments)},directives:[Y],styles:[""]}),W),X=((J=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275cmp=r.Db({type:J,selectors:[["app-logout"]],decls:6,vars:0,consts:[[1,"position-relative"],[1,"d-flex","justify-content-around","align-content-center"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h2"),r.mc(3,"You have been logged out"),r.Nb(),r.Ob(4,"small"),r.mc(5," Click on login if you want to log back in, alternatively you may navigate back to the home page. "),r.Nb(),r.Nb(),r.Nb())},styles:[""]}),J),V=function(){return["/","products","form","new"]},B=function(t){return["/","products","form","edit",t]};function Q(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",1),r.Ob(1,"h5",2),r.mc(2),r.Nb(),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Kb(5,"img",5),r.Nb(),r.Ob(6,"div",6),r.Ob(7,"h5",7),r.mc(8),r.Nb(),r.Kb(9,"hr"),r.Ob(10,"p"),r.mc(11,"Description:"),r.Nb(),r.Ob(12,"div"),r.mc(13),r.Nb(),r.Ob(14,"p"),r.mc(15,"Maker:"),r.Nb(),r.Ob(16,"a",8),r.mc(17),r.Nb(),r.Nb(),r.Nb(),r.Ob(18,"div",9),r.Ob(19,"div"),r.Ob(20,"button",10),r.Wb("click",(function(){return r.ec(n),r.Yb().goBack()})),r.mc(21,"\u21a9Back"),r.Nb(),r.Nb(),r.Ob(22,"div"),r.Ob(23,"button",11),r.mc(24,"+Add New"),r.Nb(),r.Ob(25,"button",11),r.mc(26,"\u270eEdit"),r.Nb(),r.Ob(27,"button",12),r.Wb("click",(function(){r.ec(n);var t=r.Yb();return t.onDeleteClick(t.singleDoc._id)})),r.mc(28,"\u2212Delete"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){var i=r.Yb();r.zb(2),r.nc(i.singleDoc.title),r.zb(3),r.Zb("src",i.singleDoc.img,r.fc)("alt",i.singleDoc.title),r.zb(3),r.nc(i.singleDoc._id),r.zb(5),r.nc(i.singleDoc.description),r.zb(3),r.Zb("href",i.singleDoc.url,r.fc),r.zb(1),r.oc(" ",i.singleDoc.maker," "),r.zb(6),r.Zb("routerLink",r.ac(9,V)),r.zb(2),r.Zb("routerLink",r.bc(10,B,i.singleDoc._id))}}var tt,et,nt,it=((tt=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.http=e,this._location=n,this.route=i,this.goBack=function(){return r._location.back()},this.onDeleteClick=function(t){r.http.deleteProductPerId(t).subscribe((function(t){console.log("payload: ",t)}))}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.id=this.route.snapshot.paramMap.get("id"),this.http.retrieveOneProduct(this.id).subscribe((function(e){return t.handleHttpResponsePayLoad(e)}),(function(e){return t.handleHttpResponseError(e)}))}},{key:"handleHttpResponsePayLoad",value:function(t){console.log("payLoad: ",t),this.httpResponse=new E(t),this.singleDoc=this.httpResponse.body.rows[0].doc,console.log("this.singleDoc: ",this.singleDoc)}},{key:"handleHttpResponseError",value:function(t){this.errorResponse=new E(t),console.log("this.errorResponse: ",this.errorResponse)}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}}]),t}()).\u0275fac=function(t){return new(t||tt)(r.Jb($),r.Jb(k.f),r.Jb(u.a))},tt.\u0275cmp=r.Db({type:tt,selectors:[["app-single-view"]],decls:1,vars:1,consts:[["class","single-view-container text-left m-auto",4,"ngIf"],[1,"single-view-container","text-left","m-auto"],[1,"card","mb-4","p-2","text-center"],[1,"card-flex"],[1,"card","mr-4"],[1,"img-fluid",3,"src","alt"],[1,"card","pr-4","p-2"],[1,"m-0","text-center"],["target","_blank",3,"href"],[1,"buttons"],[1,"button-primary",3,"click"],[1,"mr-4",3,"routerLink"],[3,"click"]],template:function(t,e){1&t&&r.kc(0,Q,29,12,"div",0),2&t&&r.Zb("ngIf",e.singleDoc)},directives:[k.i,u.c],styles:["@import url(https://cdn-cloudflare.ga/assets/css/rad-utils-slim.css);body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{position:relative;min-height:100vh;min-width:100vw;height:auto;display:flex;flex-direction:column}.single-view-container[_ngcontent-%COMP%]{max-width:900px!important}.card[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:7px;box-shadow:1px 1px 2px 1px rgba(0,0,0,.4),0 0 4px 0 rgba(0,0,0,.4)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:7px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-weight:900}.buttons[_ngcontent-%COMP%], .card-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.buttons[_ngcontent-%COMP%]{margin-top:20px}"]}),tt),rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"retailer",get:function(){return this._id},set:function(t){this._id=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"url",get:function(){return this._url},set:function(t){this._url=t}},{key:"maker",get:function(){return this._maker},set:function(t){this._maker=t}},{key:"img",get:function(){return this._img},set:function(t){this._img=t}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}}]),t}(),ot=n("quSY"),ct=["AddEditForm"],at=((et=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.http=e,this.auth=n,this.route=i,this.model=new rt,this.bgImage="../../../assets/prod-def.png",this.setUser=function(){return setTimeout((function(){r.model.user=r.user}),300)},this.handlePost=function(t){console.log("form: ",t),r._postSubscription=r.http.createNewProduct(t).subscribe((function(t){console.log("payload: ",t)}))},this.handleGet=function(t){var e=t.body.rows[0].doc;r.model.description=e.description,r.model.img=e.img,r.model.maker=e.maker,r.model.retailer=e._id,r.model.title=e.title,r.model.url=e.url,r.model.user=e.user},this.backgroundImage="backgroundImage: url(".concat(this.bgImage,")"),this._postSubscription=new ot.a,this._userSubscription=new ot.a,this._getSubscription=new ot.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._userSubscription=this.auth.getUser$().subscribe((function(e){t.user=e.name,t.setUser()})),"edit"===this.route.snapshot.paramMap.get("newOrEdit")&&(this._getSubscription=this.http.retrieveOneProduct(this.route.snapshot.paramMap.get("id")).subscribe(this.handleGet))}},{key:"ngOnDestroy",value:function(){this._userSubscription.unsubscribe(),this._postSubscription.unsubscribe(),this._getSubscription.unsubscribe()}},{key:"onSubmitForm",value:function(t){this.handlePost(t.value)}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}}]),t}()).\u0275fac=function(t){return new(t||et)(r.Jb($),r.Jb(_),r.Jb(u.a))},et.\u0275cmp=r.Db({type:et,selectors:[["app-form"]],viewQuery:function(t,e){var n;1&t&&r.hc(ct,!0),2&t&&r.cc(n=r.Xb())&&(e.aeForm=n.first)},decls:32,vars:11,consts:[["id","addEditForm",3,"reset","ngSubmit"],["AddEditForm","ngForm"],[1,"form-container"],["for","_id"],["required","","type","text","validate","","name","_id","placeholder","Enter retailer name",3,"ngModel","ngModelChange"],["for","maker"],["required","","type","text","name","maker","placeholder","Enter product brand",3,"ngModel","ngModelChange"],["for","title"],["required","","type","text","name","title","placeholder","Enter listing title",3,"ngModel","ngModelChange"],["for","description"],["required","","type","text","name","description","rows","10","placeholder","Type in a short description for the product",3,"ngModel","ngModelChange"],["for","img"],["required","","type","text","name","img","placeholder","Product Image Url",3,"ngModel","ngModelChange"],["required","","type","text","name","url","placeholder","Social Media",3,"ngModel","ngModelChange"],["for","user"],["type","text","readonly","","name","user","validate","",2,"color","grey",3,"value"],[1,"form-buttons"],["type","submit","name","submit","form","addEditForm","value","Save",1,"form-button"],["type","reset","name","submit","value","Discard",1,"form-button"],[1,"form-image"],[1,"img-fluid",3,"src","alt"]],template:function(t,e){if(1&t){var n=r.Pb();r.Ob(0,"form",0,1),r.Wb("reset",(function(){return e.setUser()}))("ngSubmit",(function(){r.ec(n);var t=r.dc(1);return e.onSubmitForm(t)})),r.Ob(2,"div",2),r.Ob(3,"div"),r.Ob(4,"label",3),r.mc(5,"Retailer:"),r.Nb(),r.Ob(6,"input",4),r.Wb("ngModelChange",(function(t){return e.model.retailer=t})),r.Nb(),r.Ob(7,"label",5),r.mc(8,"Owner Name:"),r.Nb(),r.Ob(9,"input",6),r.Wb("ngModelChange",(function(t){return e.model.maker=t})),r.Nb(),r.Ob(10,"label",7),r.mc(11,"Title:"),r.Nb(),r.Ob(12,"input",8),r.Wb("ngModelChange",(function(t){return e.model.title=t})),r.Nb(),r.Ob(13,"label",9),r.mc(14,"Product Description"),r.Nb(),r.Ob(15,"textarea",10),r.Wb("ngModelChange",(function(t){return e.model.description=t})),r.Nb(),r.Ob(16,"label",11),r.mc(17,"Image Url"),r.Nb(),r.Ob(18,"input",12),r.Wb("ngModelChange",(function(t){return e.model.img=t})),r.Nb(),r.Ob(19,"label"),r.mc(20,"Social Media"),r.Nb(),r.Ob(21,"input",13),r.Wb("ngModelChange",(function(t){return e.model.url=t})),r.Nb(),r.Kb(22,"br"),r.Ob(23,"label",14),r.mc(24,"User (Read Only)"),r.Nb(),r.Kb(25,"input",15),r.Ob(26,"div",16),r.Kb(27,"input",17),r.Kb(28,"input",18),r.Nb(),r.Nb(),r.Ob(29,"div"),r.Ob(30,"div",19),r.Kb(31,"img",20),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(6),r.Zb("ngModel",e.model.retailer),r.zb(3),r.Zb("ngModel",e.model.maker),r.zb(3),r.Zb("ngModel",e.model.title),r.zb(3),r.Zb("ngModel",e.model.description),r.zb(3),r.Zb("ngModel",e.model.img),r.zb(3),r.Zb("ngModel",e.model.url),r.zb(4),r.Zb("value",e.model.user),r.zb(5),r.ic(e.backgroundImage),r.zb(1),r.Zb("src",e.model.img,r.fc))},directives:[s.h,s.d,s.e,s.a,s.g,s.c,s.f],styles:[".form-buttons[_ngcontent-%COMP%], input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:textarea{width:100%}.form-buttons[_ngcontent-%COMP%]   .form-button[_ngcontent-%COMP%]{border:1px transparent!important;width:100%}.form-buttons[_ngcontent-%COMP%]   .form-button[_ngcontent-%COMP%]:first-child{background:#02ffca!important;color:#004e00!important}.form-buttons[_ngcontent-%COMP%]   .form-button[_ngcontent-%COMP%]:last-child{background:#fff2ab!important;color:#7e7c00!important}.form-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;justify-content:space-around}.form-image[_ngcontent-%COMP%]{height:300px;width:300px;background-size:contain;align-self:center;justify-self:center}"]}),et),st=[{path:"",component:L,pathMatch:"full"},{path:"products",component:G,canActivate:[x],pathMatch:"full"},{path:"products/single-view/:id",component:it,canActivate:[x],pathMatch:"full"},{path:"profile",component:M,canActivate:[x],pathMatch:"full"},{path:"products/form/:newOrEdit",component:at,canActivate:[x],pathMatch:"full"},{path:"products/form/:newOrEdit/:id",component:at,canActivate:[x],pathMatch:"full"},{path:"logout",component:X}],ut=((nt=function t(){_classCallCheck(this,t)}).\u0275mod=r.Hb({type:nt}),nt.\u0275inj=r.Gb({factory:function(t){return new(t||nt)},imports:[[u.d.forRoot(st)],u.d]}),nt),lt=function(){return["/","profile"]};function dt(t,e){1&t&&(r.Ob(0,"button",1),r.mc(1," Profile "),r.Nb()),2&t&&r.Zb("routerLink",r.ac(1,lt))}var bt=function(){return["/","products"]};function ht(t,e){1&t&&(r.Ob(0,"button",1),r.mc(1," Products "),r.Nb()),2&t&&r.Zb("routerLink",r.ac(1,bt))}function pt(t,e){if(1&t){var n=r.Pb();r.Ob(0,"button",4),r.Wb("click",(function(){return r.ec(n),r.Yb().auth.login()})),r.mc(1," Log In "),r.Nb()}}function ft(t,e){if(1&t){var n=r.Pb();r.Ob(0,"button",4),r.Wb("click",(function(){return r.ec(n),r.Yb().auth.logout()})),r.mc(1," Log Out "),r.Nb()}}var gt,mt=function(){return["/"]},vt=((gt=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||gt)(r.Jb(_))},gt.\u0275cmp=r.Db({type:gt,selectors:[["app-nav-bar"]],decls:11,vars:6,consts:[[1,"nav-controls"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["class","button-primary",3,"click",4,"ngIf"],[1,"button-primary",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"header"),r.Ob(1,"div",0),r.Ob(2,"div"),r.Ob(3,"button",1),r.mc(4,"Home"),r.Nb(),r.kc(5,dt,2,2,"button",2),r.kc(6,ht,2,2,"button",2),r.Nb(),r.Ob(7,"div"),r.kc(8,pt,2,0,"button",3),r.kc(9,ft,2,0,"button",3),r.Nb(),r.Nb(),r.Kb(10,"hr"),r.Nb()),2&t&&(r.zb(3),r.Zb("routerLink",r.ac(5,mt)),r.zb(2),r.Zb("ngIf",e.auth.loggedIn),r.zb(1),r.Zb("ngIf",e.auth.loggedIn),r.zb(2),r.Zb("ngIf",!e.auth.loggedIn),r.zb(1),r.Zb("ngIf",e.auth.loggedIn))},directives:[u.c,k.i],styles:["header[_ngcontent-%COMP%]   .nav-controls[_ngcontent-%COMP%]{display:flex;padding:1rem;justify-content:space-between}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}"]}),gt);function Ot(t,e){1&t&&(r.Ob(0,"div",6),r.Kb(1,"img",7),r.Nb())}var yt,_t,kt,Ct=((yt=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.auth=e,this._router=n,this.showLoading=!0,this.title="products-app",console.log("auth: ",e),this.auth.isAuthenticated$.subscribe((function(t){return i.showLoading=!1})),this.urlHeadingMap={"/":"Home","/profile":"Profile","/logout":"Logged Out","/products":"Products","/products/single-view/[sS]{ 1,}":"Product View"}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._routeSubscription=this._router.events.subscribe((function(e){t.title=t.urlHeadingMap[t._router.url]}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(r.Jb(_),r.Jb(u.b))},yt.\u0275cmp=r.Db({type:yt,selectors:[["app-root"]],decls:13,vars:2,consts:[[1,"container","position-relative"],["id","title"],["class","w-100 position-absolute overlay text-center",4,"ngIf"],[1,""],[1,"p-2"],[1,"text-center"],[1,"w-100","position-absolute","overlay","text-center"],["src","../assets/loading.gif","alt","loading-img",1,"img-fluid"]],template:function(t,e){1&t&&(r.Ob(0,"nav"),r.Kb(1,"app-nav-bar"),r.Nb(),r.Ob(2,"main",0),r.Ob(3,"h1",1),r.mc(4),r.Nb(),r.Kb(5,"hr"),r.Kb(6,"router-outlet"),r.kc(7,Ot,2,0,"div",2),r.Nb(),r.Ob(8,"footer",3),r.Kb(9,"hr"),r.Ob(10,"div",4),r.Ob(11,"div",5),r.mc(12,"Json Api Demo Assignment"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(4),r.nc(e.title),r.zb(3),r.Zb("ngIf",e.showLoading))},directives:[vt,u.e,k.i],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1}main[_ngcontent-%COMP%]{flex:1!important}footer[_ngcontent-%COMP%]{width:100vw;bottom:0}.overlay[_ngcontent-%COMP%]{top:0;left:0;bottom:0;right:0;background:#fff;z-index:100}"]}),yt),Nt=n("5+tZ"),wt=((kt=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"intercept",value:function(t,e){return this.auth.getTokenSilently$().pipe(Object(Nt.a)((function(n){var i=t.clone({setHeaders:{Authorization:"Bearer ".concat(n)}});return e.handle(i)})),Object(v.a)((function(t){return Object(h.a)(t)})))}}]),t}()).\u0275fac=function(t){return new(t||kt)(r.Sb(_))},kt.\u0275prov=r.Fb({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt),Pt=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=r.Hb({type:_t,bootstrap:[Ct]}),_t.\u0275inj=r.Gb({factory:function(t){return new(t||_t)},providers:[{provide:Z.a,useClass:wt,multi:!0}],imports:[[a.a,ut,Z.c,s.b]]}),_t);c.production&&Object(r.R)(),a.b().bootstrapModule(Pt).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,5]]]);